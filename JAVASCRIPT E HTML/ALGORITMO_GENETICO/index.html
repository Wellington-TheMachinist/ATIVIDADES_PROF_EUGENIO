<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algoritmo Gen√©tico - Express√£o Gen√©tica</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: auto; }
        .config-group { margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input[type="number"], select { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; cursor: pointer; border-radius: 5px; }
        button:hover { background-color: #0056b3; }
        #resultados { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
        .resultado-geracao { margin-bottom: 10px; border-bottom: 1px dashed #eee; padding-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß¨ Simula√ß√£o Gen√©tica em Itabera√≠</h1>
        <p>A meta √© encontrar a sequ√™ncia de genes ($x_i=1$ para ativo) com a m√°xima express√£o total ($f(x) = \sum x_i$).</p>

        <div class="config-group">
            <h2>Configura√ß√µes do Algoritmo Gen√©tico</h2>
            
            <label for="nGenes">N√∫mero de Genes (Tamanho do Cromossomo $n$):</label>
            <input type="number" id="nGenes" value="20" min="5">

            <label for="tamanhoPopulacao">a. Tamanho da Popula√ß√£o:</label>
            <input type="number" id="tamanhoPopulacao" value="50" min="10">

            <label for="numGeracoes">b. Quantidade de Gera√ß√µes:</label>
            <input type="number" id="numGeracoes" value="100" min="1">

            <label for="elitismoTipo">c. Elitismo:</label>
            <select id="elitismoTipo">
                <option value="total">Total (100% dos melhores passam)</option>
                <option value="parcial" selected>Parcial (Apenas uma porcentagem passa)</option>
            </select>
            
            <label for="porcentagemElitismo" id="labelPorcentagemElitismo">Porcentagem da Popula√ß√£o que VAI para o Elitismo (ex: 10%):</label>
            <input type="number" id="porcentagemElitismo" value="10" min="0" max="100">

            <label for="tipoSelecao">d. Tipo de Sele√ß√£o:</label>
            <select id="tipoSelecao">
                <option value="roleta" selected>Roleta</option>
                <option value="ranking">Ranking</option>
                <option value="torneio">Torneio</option>
            </select>
            
            <label for="tamanhoTorneio" id="labelTamanhoTorneio" style="display:none;">Tamanho do Torneio ($k$):</label>
            <input type="number" id="tamanhoTorneio" value="3" min="2" style="display:none;">
            
            <label for="tipoCruzamento">e. Tipo de Cruzamento:</label>
            <select id="tipoCruzamento">
                <option value="umPonto" selected>Um Ponto</option>
                <option value="multiponto">Multiponto</option>
            </select>
            
            <label for="numPontosCruzamento" id="labelNumPontosCruzamento" style="display:none;">Quantidade de Pontos de Cruzamento:</label>
            <input type="number" id="numPontosCruzamento" value="2" min="2" style="display:none;">

            <label for="taxaMutacao">f. Taxa de Muta√ß√£o (0.0 a 1.0, ex: 0.01):</label>
            <input type="number" id="taxaMutacao" value="0.01" min="0" max="1" step="0.001">
            
            <button onclick="iniciarAG()">Iniciar Simula√ß√£o</button>
        </div>

        <div id="resultados">
            <h2>Resultados</h2>
            <div id="melhorGlobal"></div>
            <div id="logResultados"></div>
        </div>
    </div>

    <script>
        // L√≥gica de interface para mostrar/esconder campos
        document.getElementById('elitismoTipo').addEventListener('change', function() {
            const isParcial = this.value === 'parcial';
            document.getElementById('labelPorcentagemElitismo').style.display = isParcial ? 'block' : 'none';
            document.getElementById('porcentagemElitismo').style.display = isParcial ? 'block' : 'none';
        });

        document.getElementById('tipoSelecao').addEventListener('change', function() {
            const isTorneio = this.value === 'torneio';
            document.getElementById('labelTamanhoTorneio').style.display = isTorneio ? 'block' : 'none';
            document.getElementById('tamanhoTorneio').style.display = isTorneio ? 'block' : 'none';
        });

        document.getElementById('tipoCruzamento').addEventListener('change', function() {
            const isMultiponto = this.value === 'multiponto';
            document.getElementById('labelNumPontosCruzamento').style.display = isMultiponto ? 'block' : 'none';
            document.getElementById('numPontosCruzamento').style.display = isMultiponto ? 'block' : 'none';
        });
    </script>
    <script src="pograma.js"></script>
</body>
</html>